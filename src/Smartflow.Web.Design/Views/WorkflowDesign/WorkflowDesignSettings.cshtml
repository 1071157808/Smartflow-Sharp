@{
    Layout = null;
}

<!DOCTYPE html>
<html>
<head>
    <title>流程节点数据配置</title>
    <link href="~/Content/smartflow.css" rel="stylesheet" />
    <link href="~/Content/tree/css/zTreeStyle/zTreeStyle.css" rel="stylesheet" />
    <link href="~/Content/jqgrid/css/ui.jqgrid.css" rel="stylesheet" />
    <link href="~/Content/jqgrid/css/redmond/jquery-ui-1.8.16.custom.css" rel="stylesheet" />
    <script src="~/Content/jquery.min.js"></script>
    <script src="~/Content/tree/jquery.ztree.all.min.js"></script>
    <script src="~/Content/jqgrid/js/jquery.jqGrid.src.js"></script>
    <script src="~/Content/jqgrid/js/grid.locale-cn.js"></script>
    <script src="~/Content/settings.js"></script>
    <style type="text/css">
        #t_userlist {
            border-top: none;
            height: 28px;
        }

        #pager_right {
            display: none;
        }

        #pager {
            height: 30px;
        }

        #tree {
            display: none;
        }

        .searchBar {
            line-height: 16px;
            outline: none;
        }

        th.ui-th-column div {
            white-space: normal !important;
            height: auto !important;
            padding: 0px;
        }

        .ui-jqgrid-htable {
            border-collapse: collapse;
        }

        .tabsholder3 {
            height: 100%;
        }

        #transitions li{
            height:25px;
        }

        #transitions label{
            width:100px;
            display:block;
            float:left;
        }

        #transitions input{
            display:block;

        }

        .ui-jqgrid .ui-jqgrid-htable th div,
        .ui-jqgrid-hdiv,
        .ui-jqgrid-bdiv, .ui-jqgrid-bdiv > div {
            position: initial !important;
        }
    </style>
    <script type="text/javascript">
        $(function () {
            SMF.init({
                configUrl: '@Url.Action("GetConfigs", "WorkflowDesign")',
                treeUrl: '@Url.Action("GetOrgTree", "WorkflowDesign")',
                roleUrl: '@Url.Action("GetRole", "WorkflowDesign")',
                userUrl: '@Url.Action("GetUserList", "WorkflowDesign")'
            });
        });
    </script>
</head>
<body>
    <div class="container" style="width:100%;background:#fff;padding-top:5px;">
        <div class="tabsholder3">
            <div class="card-tabs-bar graygreen" style="padding-left:5px;">
                <a href="javascript:;" class="active">基本信息</a>
                <a href="javascript:;">参与角色</a>
                <a href="javascript:;">参与人</a>
                <a href="javascript:;">规则配置</a>
            </div>
            <div class="card-tabs-stack graygreen">
                <div data-tab="基本信息" style="display: block;height:240px;overflow:hidden;">
                    <table class="smartflow-table">
                        <tr>
                            <td style="width:60px;">名称</td>
                            <td>
                                <input type="text" style="width:100%;height:18px;" id="txtNodeName" />
                            </td>
                        </tr>
                    </table>
                </div>
                <div data-tab="参与角色" style="display: none; height: 240px;">
                    <table class="smartflow-table">
                        <tr>
                            <td class="smartflow-box">
                                <ul class="smartflow-list" id="roleGrid"></ul>
                            </td>
                            <td class="smartflow-tools" style="width:10px;"></td>
                            <td class="smartflow-box">
                                <ul class="smartflow-list" id="roleAssign"></ul>
                            </td>
                        </tr>
                    </table>
                </div>
                <div data-tab="参与人" style="display: none; height: 240px;">
                    <div style="float:right;width:80px;height:100%;">
                        <ul class="smartflow-list" id="userAssign"></ul>
                    </div>
                    <div style="margin-right:80px;margin-left:15px;">
                        <table id="userlist" style="width:100%;"></table>
                        <div id="pager"></div>
                    </div>
                </div>
                <div data-tab="规则配置" style="display: none; height: 240px;">
                    <table class="smartflow-table">
                        <tr>
                            <td style="width:100px;">
                                数据源
                            </td>
                            <td>
                                <select id="ddlRuleConfig" style="width:505px;height:23px;"></select>
                            </td>
                        </tr>
                        <tr>
                            <td style="width:100px;">SQL脚本</td>
                            <td>
                                <textarea id="txtCommand" style="width:500px;height:30px;"></textarea>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2">
                                <ul id="transitions"></ul>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <script type="text/template" id="tbTemplate">
        <table class="tables">
            <tr>
                <td>
                    <label for="txtUnit">部门：</label>
                    <input type="text" id="txtUnit" placeholder="选择组织结构" />
                    <ul id="tree" class="ztree" style="height:200px; overflow:auto;width:190px;position:absolute;top:22px;left:0px;right:0;background-color:#eee;"></ul>
                </td>
                <td>
                    <label for="txtSearchKey">关键字：</label>
                    <input type="text" id="txtSearchKey" class="searchBar" placeholder="用户名称" />
                </td>
                <td>
                    <input type="button" value="搜索" id="btnSearch" />
                </td>
            </tr>
        </table>
    </script>
</body>
</html>
